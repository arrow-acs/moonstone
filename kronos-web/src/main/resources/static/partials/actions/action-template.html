<div class="content-bd">
    <div class="row">
        <div class="col-md-10 col-xs-12">
            <h1><i class="fa fa-tasks" aria-hidden="true"></i> Actions</h1>
        </div>
        <div class="col-md-2 text-right col-xs-12 margin-bottom-15">
            <div class="pull-right">
                <button type="button"
                        class="btn btn-default"
                        ng-click="openAbstractActionModal(-1)"
                        ng-if="!title ? canCreateDeviceAction: true">Add</button>
                <button type="button"
                        class="btn btn-default"
                        ng-click="confirmDeleteActions()"
                        ng-disabled="selectedActionIndices.length <= 0"
                        ng-if="!title ? canDeleteDeviceAction : true">Delete</button>
            </div>
        </div>
    </div>

    <div class="panel panel-default panel-content">
        <div class="panel-heading">
            <h3 class="panel-title">Action List</h3>
        </div>
        <div class="panel-body">

            <div class="callout callout-purple">
                <h4>Using Actions</h4>
                <p>Use actions to monitor telemetry and to take action accordingly based on the defined criteria and actions.</p>
            </div>

            <table class="table table-striped table-bordered" style="table-layout: fixed;">
                <thead class="hidden-xs">
                <tr>
                    <th class="table-checkbox"><input type="checkbox" value="" ng-checked="selectedActionIndices.length == abstractActions.actions.length" ng-click="toggleAllActions()" ng-if="abstractActions.actions.length > 0" /></th>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Criteria</th>
                    <th>Expiration</th>
                    <th>Enabled</th>
                </tr>
                </thead>
                <tbody ng-if="abstractActions.actions.length > 0">
                <tr ng-repeat="action in abstractActions.actions track by $index">
                    <td class="table-checkbox"><input type="checkbox" value="" ng-checked="selectedActionIndices.indexOf($index) >= 0" ng-click="toggleAction($index)" /></td>
                    <td class="hidden-xs"><a href="" ng-click="openAbstractActionModal($index)">{{options.actionTypes[action.deviceActionTypeId].name}}</a></td>
                    <td class="hidden-xs">{{action.description}}</td>
                    <td class="hidden-xs">{{action.noTelemetry ? "No Telemetry (" + action.noTelemetryTime +")" : action.criteria}}</td>
                    <td class="hidden-xs">{{action.expiration}}</td>
                    <td class="hidden-xs">{{action.enabled}}</td>
                    <td class="hidden-lg hidden-md hidden-sm">
                        <div><b>Type:</b> <a href="" ng-click="openDeviceActionModal($index)">{{options.actionTypes[action.deviceActionTypeId].name}}</a>
                        </div>
                        <div class="white-space-word"><b>Description:</b> {{action.description}}</div>
                        <div><b>Criteria:</b> {{action.criteria}}</div>
                        <div><b>Expiration:</b> {{action.expiration}}</div>
                        <div><b>Enabled:</b> {{action.enabled}}</div>
                    </td>
                </tr>
                </tbody>
                <tbody ng-if="abstractActions.actions.length === 0">
                <tr>
                    <td class="hidden-xs" colspan="6">No actions have been defined for this device.</td>
                    <td class="hidden-lg hidden-md hidden-sm white-space-word">No actions have been defined for this device.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>