<div class="modal-header">
    <h3 class="modal-title">Device State Transaction</h3>
</div>
<form class="form-horizontal">
    <div class="modal-body">
        <div class="row" style="margin:0">
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label">Type:</label> {{vm.deviceStateTrans.type}}
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label">Status:</label> {{vm.deviceStateTrans.status}}
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label">Created:</label> {{vm.deviceStateTrans.createdDate | date: "MM/dd/yyyy hh:mm:ss a"}}
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="control-label">Updated:</label> {{vm.deviceStateTrans.lastModifiedDate | date: "MM/dd/yyyy hh:mm:ss a"}}
                </div>
            </div>
            <div class="col-xs-12" ng-if="vm.deviceStateTrans.status == 'ERROR'">
                <div class="form-group">
                    <label class="control-label">Error:</label> {{vm.deviceStateTrans.error}}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div class="form-group" style="margin-left:0; margin-right:0;">
                    <label class="control-label">States</label>
                </div>
            </div>
            <div class="col-sm-12">
                <table class="table table-striped table-bordered" style="table-layout: fixed;">
                    <thead class="hidden-xs">
                        <tr>
                            <th>Name</th>
                            <th>Value</th>
                            <th>Timestamp</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="(name, state) in vm.deviceStateTrans.states">
                            <td class="hidden-xs">{{vm.stateMetadata[name].description || name}}</td>
                            <td class="hidden-xs">{{state.value}}</td>
                            <td class="hidden-xs">{{state.timestamp | date: "MM/dd/yyyy hh:mm:ss a"}}</td>
                            <td class="hidden-lg hidden-md hidden-sm">
                                <div><b>Name:</b> {{vm.stateMetadata[name].description || name}}</div>
                                <div class="white-space-normal"><b>Value:</b> {{state.value}}</div>
                                <div class="white-space-normal"><b>Timestamp:</b> {{state.timestamp | date: "MM/dd/yyyy hh:mm:ss a"}}</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default"
            type="button" ng-click="vm.close()">Close</button>
    </div>
</form>
